// Generated by BUCKLESCRIPT VERSION 3.0.0, PLEASE EDIT WITH CARE
'use strict';

var Caml_array = require("bs-platform/lib/js/caml_array.js");

var maxGameId = [-1];

var overGamesId = [/* [] */0];

var games = Caml_array.caml_make_vect(10, /* None */0);

function setNewGameId() {
  var match = overGamesId[0];
  if (match) {
    overGamesId[0] = match[1];
    return match[0];
  } else {
    maxGameId[0] = maxGameId[0] + 1 | 0;
    return maxGameId[0];
  }
}

function createGame(id) {
  var gameId = setNewGameId(/* () */0);
  var newGame_001 = /* players : array */[/* record */[
      /* id */id,
      /* position : tuple */[
        0.1,
        0.1
      ],
      /* shootSpeed */0.3,
      /* rotateVec */0.3,
      /* rotataRange : tuple */[
        0.0,
        0.75
      ],
      /* boundingBox : tuple */[
        0.05,
        0.05
      ]
    ]];
  var newGame = /* record */[
    /* id */gameId,
    newGame_001,
    /* actPlayer */id
  ];
  Caml_array.caml_array_set(games, gameId, /* Some */[newGame]);
  return newGame;
}

function endGame(id) {
  Caml_array.caml_array_set(games, id, /* None */0);
  overGamesId[0] = /* :: */[
    id,
    overGamesId[0]
  ];
  return /* () */0;
}

createGame("123d");

createGame("123d");

endGame(0);

createGame("1asf");

createGame("123d");

createGame("123d");

endGame(0);

endGame(1);

createGame("asfasf");

console.log(games);

exports.maxGameId = maxGameId;
exports.overGamesId = overGamesId;
exports.games = games;
exports.setNewGameId = setNewGameId;
exports.createGame = createGame;
exports.endGame = endGame;
/*  Not a pure module */
